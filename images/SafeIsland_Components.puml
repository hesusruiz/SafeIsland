@startuml SafeIsland_Components

card OperatorApp [
  <b>Operator App
  ====
  Data entry for Citizen
  and Certificates
]

card CitizenApp [
  <b>Citizen WebApp
  ====
  Downloaded from Issuer server
  or any other secure server
]

card VerifierApp [
  <b>Verifier App
  ====
  Verifies
  certificates
]

cloud Issuer {

  node SecureMessageServer [
    <b>Secure Messageserver
    ====
    Secure sending and
    receiving of Credentials
    ---
    Can be hosted by many
    trusted participants
  ]

  node IssuerServer [
    <b>Issuer server
    ====
    Manages Certificates
  ]

  database IssuerDatabase [
    <b>Issuer database
    ====
    Encrypted certificates
  ]

}

cloud Verifier {

  node VerifierServer [
    <b>Verifier server
    ====
    Logs verifications
    for auditing
  ]

  database VerifierDatabase [
    <b>Verifier database
    ====
    Logs verifications
    Privacy-preserving
  ]


}

component Blockchain {

  database Identities [
    <b>Legal Person Identities
    ====
    Identities of Legal Persons:
    - Issuers and Verifiers
    ----
    Never personal information
  ]

  node VerifierNode [
    <b>Verifier node
  ]

  node IssuerNode [
    <b>Issuer node
  ]

}

OperatorApp --> IssuerServer
IssuerServer -- IssuerDatabase
OperatorApp --> SecureMessageServer
CitizenApp --> SecureMessageServer
VerifierApp --> SecureMessageServer

VerifierApp --> VerifierServer
VerifierServer -- VerifierDatabase

IssuerDatabase -- IssuerNode
VerifierDatabase -- VerifierNode

IssuerNode -- Identities
VerifierNode -- Identities

@enduml

